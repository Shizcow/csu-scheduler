<!DOCTYPE html>
<html>

  <head>
    <meta charset="utf-8">
    <title>CSU Scheduler - Course Scheduler for Colorado State University</title>
    <meta name="description" content="Course Scheduler for Colorado State University. Create, save, share, and export all your schedule combinations.">
    <link rel="stylesheet" href="./style.css">
  </head>
  <body>
    <div id="cors" style="display:none;">
      Hi, and welcome to CSU Scheduler! This is a tool for creating, editing, testing, and sharing schedules for Colorado State University.<br>
      <br>
      I can see you're locked out of the CSU systems. Unfortunately, there isn't anything I the developer can do about this. This is because CSU won't recognize this website as friendly.<br>
      <b>In order to use this tool, please download and use a CORS-everywhere extension</b> and refresh. This intercepts data coming from CSU's servers and makes your browser think CSU trusts us, so that your browser doesn't lock you out. Here are a few I recommend:<br>
      <a href="https://addons.mozilla.org/en-US/firefox/addon/cors-everywhere/">Firefox</a><br>
      For Chrome, it's a bit more envolved. See <a href="https://www.codevoila.com/post/75/how-to-disable-same-origin-policy-in-chrome">this</a> for more details.
      <br>
      NOTE: it is technically unsafe to browse with CORS-everywhere enabled. Please, disable it when not using this tool.<br>
      <b>If you'd like to use this tool without needing an extension, go bother CSU (I'll get an email later) and tell them you like this tool and want to see it used freeley.</b>
    </div>
    
    <div id="loading">
      Loading Pure Awesomeness...
    </div>
    
    <div id="app">
      <div class="left">
	<div id="noSchedWrapper">
	  <div id="noSchedAlign">
	    <div id="noSched">
	      <span>No schedules available without conflict.</span>
	      <br>
	      <span>Press Esc to de-select course, or enter Manual Mode</span>
	    </div>
	  </div>
	</div>
        <table>
          <thead>
            <tr id="schedThead">
              <td class="time"></td>
	      <!--
		  <td for="day in daylist(false)" text="day"></td>
		  -->
            </tr>
          </thead>
          <tbody id="schedTbody">
	    <!--
            <tr v-once for="hour in [8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20]">
              <td text="((hour - 1) % 12 + 1) + ':00'" class="time"></td>
              <td for="day in daylist(true)" class="block">
                <div class="wrapper">
                  <div class="wrapperInternal" data-hour="hour" data-day="day">
                  </div>
                  <div></div>                               
                  <div></div>                               
                </div>
              </td>
            </tr>
	    -->
          </tbody>
        </table>
      </div>

      <div class="right">
        <!--<img src="https://web.stevens.edu/scheduler/stevens-logo-100px.jpg" /><br><br>-->
	<span class="title">Mode</span>
	<br>
        <input id="Manual" name="mode" type="radio" value="Manual" onchange="app.fillSearch(this); app.autoConstruct(app.selected.concat(appData.courses[app.course])).get(0); app.fillSchedule();" checked="checked"> Manual
	<br>
        <input id="Automatic" name="mode" type="radio" value="Automatic" onchange="app.fillSearch(this); app.autoConstruct(app.selected.concat(appData.courses[app.course])).get(0); app.fillSchedule();"> Automatic
	<br>
	<div id="autoBar" style="display: none; width: 100%;">
	  <input id="Range" oninput="app.fillSchedule(this);" type="range" min="0" max="0" style="width: 66%;">
	  <button id="nextButton" style="width: 30%;float: right;"></button>
	</div>
	<br>
	<span class="title">Term</span>
        <select onchange="app.changedTerm(false, this)" id="termSelect">
	  <option value="" selected hidden disabled></option>
	  <!--
          <option for="term in terms" value="term" text="term.description"></option>
          -->
	</select>
        <div id="coursesBox" style="display:none;">
          <span class="title">Courses</span>
          <input id="searchBox" oninput="app.hideSearch()" placeholder="Search for a course..." style="width: 100%;">
          <select id="selectBox" onchange="app.fillSchedule()" size="25">
	    <option value="" selected disabled hidden>default</option>
	    <!-- options are filled in automatically -->
          </select>
          <input id="closedCheck" onclick="app.hideSearch(this); app.fillSchedule(this)" type="checkbox"> Closed
          <br>
          <span id="escTip" class="hint">*Press esc to cancel selection</span>
          
          <br><br>
          
          <span class="title">Total Credits:</span> {{ totalCredits() }}<br><br>

          <div id="webWrapper" style="display:none;">
            <span class="title">Web Classes</span>
            <div class="selectedList" id="web">
	      <!-- autofilled in fillSchedule
		  <div v-for="c in webclasses(selected.concat(courses[course]))" @dblClick="click(c)" :class="{selected: c != courses[course] }">
		    {data...}
		  </div>
		  -->
	    </div>
	  </div>
	</div>
	<div id="loadingCourses">Loading Courses... {{ percent }}</div>

	<br><br>

	* Open seats can take up to two hours to update during peak registration hours
      </div>

      <div class="footer">
	<div id="saves">
	</div>
	<div class="floatRight">
	  <div id="marker-save" class="option" onclick="app.save();" style="display:none">
	    Save
	  </div>
	  <div id="marker-discard" class="option" onclick="app.discard();" style="display:none">
	    Discard Changes
	  </div>
	  <div id="marker-saveAsNew" class="option" onclick="app.saveNew();" style="display:none">
	    Save as New
	  </div>
	  <div id="marker-delete" class="option" onclick="app.deleteSchedule();" style="display:none">
	    Delete
	  </div>
	  <div id="marker-export" class="option" onclick="app.showExport();" style="display:none">
	    Export
	  </div>
	  <div id="marker-new" class="option" onclick="app.clear();" style="display:none">
	    New
	  </div>
	</div>
      </div>
      
      <div id="export" class="export" name="export" onclick="if(window.event.target === this){this.style.display = 'none';}" style="display:none">
	<div class="wrapper">
	  Share link:<br>
	  <input type="text" id="export-link"><br><br>
	  Course List:<br>
	  <textarea id="export-text"></textarea>
	</div>
      </div>
      
      <div class="description" name="description" v-if="description" @click="($event.target.attributes.name == undefined) ? null : description = null">
	<div class="wrapper">
	  <strong>{{ description.subject }} {{ description.courseNumber }}:</strong><br><br>
	  <span v-if="!description.description">Fetching description...</span>
	  <span v-else style="white-space: pre-wrap;">{{ description.description }}</span>
	</div>
      </div>
    </div>
    <script src="https://unpkg.com/vue"></script>
    <script src="https://cdn.jsdelivr.net/vue.resource/1.2.1/vue-resource.min.js"></script>
    <script src="./script.js?v=1.07" charset="utf-8"></script>
    <script src="./index.js?v=1.07" charset="utf-8"></script>
  </body>

</html>
